:root { --accent: #00d2ff; --tv: #ff3d00; --glass: rgba(25,25,25,0.88); --mic-active: #ff0055; }
body, html { margin: 0; padding: 0; height: 100vh; font-family: 'Segoe UI', system-ui, sans-serif; color: white; overflow: hidden; background: #000; }

.slide-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 2.5s ease-in-out; z-index: 1; }
.slide-container.active { opacity: 1; z-index: 2; }
.blur-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; filter: blur(40px) brightness(0.4); transform: scale(1.1); }
.sharp-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: center; }
.overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 3; pointer-events: none; background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 40%); }

.top-bar { position: fixed; top: 0; left: 0; width: 100%; padding: 20px 30px; display: flex; justify-content: space-between; align-items: flex-start; z-index: 100; pointer-events: none; box-sizing: border-box; }
#temp { font-size: 90px; font-weight: 900; line-height: 0.8; cursor: pointer; pointer-events: auto; text-shadow: 0 5px 15px rgba(0,0,0,0.5); }
#super-widget { width: 520px; background: var(--glass); backdrop-filter: blur(50px); padding: 25px 35px; border-radius: 0 0 0 40px; margin-top: -25px; margin-right: -35px; display: flex; flex-direction: column; align-items: flex-end; box-shadow: -15px 15px 40px rgba(0,0,0,0.6); opacity: 0; transition: opacity 1s; }
#super-widget.visible { opacity: 1; }
#widget-clock { font-size: 65px; font-weight: 800; line-height: 1; letter-spacing: -2px; }
#photo-desc { font-size: 18px; font-weight: 700; text-transform: uppercase; color: #eee; margin-top: 8px; text-align: right; letter-spacing: 1px; }

#control-drawer { position: fixed; bottom: 20px; left: 20px; z-index: 200; display: flex; align-items: flex-end; transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); pointer-events: auto; }
#control-drawer.hidden { transform: translateX(calc(-100% + 40px)); }
.control-grid { display: flex; gap: 20px; align-items: flex-end; background: rgba(15,15,15,0.92); padding: 18px 28px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 25px 60px rgba(0,0,0,0.7); }
#drawer-toggle { width: 40px; height: 65px; background: rgba(15,15,15,0.92); border-radius: 0 18px 18px 0; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--accent); margin-bottom: 28px; border: 1px solid rgba(255,255,255,0.12); border-left: 0; }

/* ROOM CONTROLS */
.room-column { display: flex; flex-direction: column; align-items: center; gap: 8px; position: relative; }
.room-label { font-size: 10px; color: #888; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }

/* --- PATCHED: WINDOW BLIND STYLE --- */
.progress-track { width: 8px; height: 110px; background: rgba(255,255,255,0.1); border-radius: 4px; position: absolute; left: -14px; top: 25px; overflow: hidden; border: 1px solid rgba(255,255,255,0.05); }
.progress-fill { width: 100%; background: linear-gradient(to bottom, var(--accent), #0088aa); transition: height 0.5s cubic-bezier(0.4, 0, 0.2, 1); position: absolute; bottom: 0; box-shadow: 0 0 10px var(--accent); }
.progress-fill::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: rgba(255,255,255,0.8); box-shadow: 0 0 5px white; }

.btn-group { display: flex; flex-direction: column; gap: 7px; }
.ghost-btn { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.1); color: white; font-size: 18px; width: 52px; height: 52px; border-radius: 50%; cursor: pointer; transition: 0.2s; display: flex; align-items: center; justify-content: center; }
.ghost-btn.active-state { background: var(--accent); color: #000; border-color: var(--accent); box-shadow: 0 0 15px var(--accent); }
.ghost-btn:disabled { opacity: 0.2; pointer-events: none; border-color: transparent; }

.tv-console { display: flex; flex-direction: column; gap: 8px; align-items: center; border-left: 1px solid rgba(255,255,255,0.15); padding-left: 20px; margin-left: 5px; }
.tv-main { width: 55px; height: 55px; border: 2.5px solid var(--tv); color: var(--tv); border-radius: 50%; font-size: 24px; background: transparent; cursor: pointer; }
.tv-row { display: flex; gap: 8px; }
.tv-sub { width: 42px; height: 42px; font-size: 17px; border: 1px solid rgba(255,255,255,0.25); border-radius: 50%; background: transparent; color: white; cursor: pointer; }

#mic-btn { position: fixed; bottom: 25px; right: 25px; width: 75px; height: 75px; border-radius: 50%; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.25); font-size: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 150; backdrop-filter: blur(15px); }
#mic-btn.listening { background: var(--mic-active); animation: pulse-mic 1.5s infinite; border-color: var(--mic-active); }
@keyframes pulse-mic { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,0,85,0.5); } 70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255,0,85,0); } 100% { transform: scale(1); } }

#ai-feedback { position: fixed; bottom: 110px; right: 30px; text-align: right; background: rgba(0,0,0,0.85); padding: 10px 20px; border-radius: 12px; font-size: 15px; font-weight: 700; opacity: 0; transition: opacity 0.5s; pointer-events: none; z-index: 600; }
#debug-log { display: block; position: fixed; top: 130px; left: 20px; width: 480px; height: 380px; background: rgba(0,0,0,0.92); border: 1px solid #ff3333; color: #eee; font-family: 'Consolas', monospace; font-size: 11px; padding: 12px; z-index: 9999; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.8); }
.log-sim { color: #ffff00; } .log-ai { color: #00ffff; } .log-err { color: #ff5555; }